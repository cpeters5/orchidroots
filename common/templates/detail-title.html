<!--Title-->

<style>
   h1 {
        font-size: 24px;
    }

@media only screen and (max-width: 600px) {
    h1 {
        font-size: 18px;

    }
}

  .form-inline {
    display: flex;
    align-items: center;
    justify-content: center; /* Center form horizontally */
    margin: 20px 0;
  }

  .searchbox {
    padding: 8px 12px; /* Padding inside the search box */
    border: 1px solid #ccc;
    border-radius: 4px 0 0 4px; /* Rounded corners for the left side */
    width: 300px; /* Width of the search box */
    font-size: 16px; /* Text size */
    transition: border-color 0.3s ease-in-out;
  }

  .searchbox:focus {
    border-color: #007bff; /* Change border color when focused */
    outline: none; /* Remove default outline */
  }

  .form-inline button {
    background-color: #007bff;
    border: none;
    padding: 8px 12px;
    border-radius: 0 4px 4px 0; /* Rounded corners for the right side */
    color: white;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s ease-in-out;
  }

  .form-inline button:hover {
    background-color: #0056b3; /* Darker blue on hover */
  }
</style>
<br>
    <div class="row">
        <div class="col">
            <div class="nav2 detail-title" style="text-align:center">
                <div>
                    <form class="form-inline" id="displaysearch" action="/search/search/{{app}}/" style="margin-top: 5px;">
                        <input type="hidden" form="displaysearch" name="role" value="{{ role }}">

                        <input class="searchbox" form="displaysearch" value="{{search_string}}"
                               type="text" name="search_string" pattern=".{3,}"
                               placeholder="Search..."
                               style="border: 1px solid #ccc; border-right: 0; padding: 8px 12px; width: 300px; border-radius: 4px 0 0 4px;">

                        <button form="displaysearch" type="submit" style="display:none;"></button>
                    </form>
                </div>
                {% if species.status == 'synonym' %}
                    <h1 class="hidden-h1">{{species.binomial}} (synonym of {{species.getAccepted.name|safe}})</h1>
                {% elif species.type == 'hybrid' %}
                    <h1 class="hidden-h1">{{species.binomial}} ({{species.hybrid.registered_seed_name_long|default:'na'|safe}} × {{species.hybrid.registered_pollen_name_long|default:'na'|safe}})</h1>
                {% else %}
                    <h1 class="hidden-h1">{{species.accepted.common_name|default:''}} ({{species.binomial}})</h1>
                {% endif %}
                <h4>
                    {% if species.type == 'species' or species.is_hybrid %}<i>{{species.binomial}}</i>{% else %}{{species.binomial}}{% endif %},
                    {{species.author|default:""}} {{species.year|default:''}}
                    {% if species.sourceurl != None %}
                        <a href="{{species.sourceurl}}" target="_blank"><normal>({{species.source}})</normal></a>
                    {% else %}
                        ({{species.source}})
                    {% endif %}
                </h4>
                <div style="font-size: 16px;">
                    {% if species.status == 'synonym' %}
                        syn. <a href="{% url 'display:summary' app species.getAcc %}?role={{role}}">{{species.getAccepted.name|safe}}</a>
                        {{species.getAccepted.accepted.common_name|default:''}}
                        {{species.getAccepted.accepted.local_name|default:''}}
                        <br>
                    {% elif species.type == 'hybrid' %}
                        {{species.hybrid.registered_seed_name_long|default:'na'|safe}} × {{species.hybrid.registered_pollen_name_long|default:'na'|safe}}
                        <br>
                    {% else %}
                        {{species.accepted.common_name|default:''}}
                        {{species.accepted.local_name|default:''}}
                    {% endif %}
                    {% if species.accepted.comment %}
                        <div id="shrinkMe" class="shrinkable" style="width: 70%; margin: 0 auto; text-align: left;">
                            {{species.accepted.comment|safe}}
                        </div>
                    {% endif %}
                </div>
                <br>
            </div>
        </div>

<!--        {% if sponsor %}-->
<!--        <div class="col d-none d-md-block" style="max-width:20%">-->
<!--            <div style="width:150px; height:150px; border: 1px solid white">-->
<!--                <div class="imgtitle"><span style="font-size:15px;"><a href="{% url 'documents:sponsor' %}">ADVERTISEMENT</a></span></div>-->
<!--                <a href="{{sponsor.sponsor_url}}" target="_blank">-->
<!--                    <div  class="sponsorimg">-->
<!--                         <img alt="Sample advertisement" class="img-fluid" src="/static/{{sponsor.image_file_path}}{{sponsor.image_file}}">-->
<!--                   </div>-->
<!--                </a>-->
<!--                <div class="adcaption">-->
<!--                    <a href="{{sponsor.sponsor_url}}" target="_blank">-->
<!--                        {{sponsor.title}}-->
<!--                    </a>-->

<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    {% endif %}-->
</div>

<script>
function showMore(id){
    document.getElementById(id+'Overflow').className='';
    document.getElementById(id+'MoreLink').className='hidden';
    document.getElementById(id+'LessLink').className='';
}

function showLess(id){
    document.getElementById(id+'Overflow').className='hidden';
    document.getElementById(id+'MoreLink').className='';
    document.getElementById(id+'LessLink').className='hidden';
}

var len = 200;
var shrinkables = document.getElementsByClassName('shrinkable');
if (shrinkables.length > 0) {
    for (var i = 0; i < shrinkables.length; i++){
        var fullText = shrinkables[i].innerHTML;
        if(fullText.length > len){
            var trunc = fullText.substring(0, len).replace(/\w+$/, '');
            var remainder = "";
            var id = shrinkables[i].id;
            remainder = fullText.substring(len, fullText.length);
            shrinkables[i].innerHTML = '<span>' + trunc + '<span class="hidden" id="' + id + 'Overflow">'+ remainder +'</span></span>&nbsp;<a id="' + id + 'MoreLink" href="#!" onclick="showMore(\''+ id + '\');">... More</a><a class="hidden" href="#!" id="' + id + 'LessLink" onclick="showLess(\''+ id + '\');">Less</a>';
        }
    }
}
</script>